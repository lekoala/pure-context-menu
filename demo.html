<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    <title>Easy context menu demo for Bootstrap</title>

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="color-scheme" content="light dark" />

    <meta name="theme-color" content="#111111" media="(prefers-color-scheme: light)" />
    <meta name="theme-color" content="#eeeeee" media="(prefers-color-scheme: dark)" />

    <link href="styles.min.css" rel="stylesheet" />
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5/dist/css/bootstrap.min.css" rel="stylesheet" /> -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5/dist/js/bootstrap.bundle.min.js" type="module"></script>
    <script type="module">
      import PureContextMenu from "./pure-context-menu.js";

      const items = [
        {
          label: "Click here",
          callback: () => {
            alert("You clicked here");
          },
        },
        "-",
        {
          label: "Target click",
          callback: (e) => {
            if (e.target.id) {
              alert("You clicked on target " + e.target.id);
            } else {
              alert("You didn't click on a target");
            }
          },
        },
        {
          label: "This is a long menu item that spans on two line",
          callback: () => {
            alert("You clicked on a long line");
          },
        },
        {
          label: "This will not close",
          preventCloseOnClick: true,
          callback: () => {
            alert("It didn't close");
          },
        },
      ];
      // bind to html if body does not have 100% height
      let bodyMenu = new PureContextMenu(document.querySelector("html"), items);

      const items2 = [
        {
          label: "Block here",
          callback: () => {
            alert("You clicked here");
          },
        },
        "-",
        {
          label: "Block there",
          callback: () => {
            alert("You clicked there");
          },
        },
      ];
      let blockMenu = new PureContextMenu(document.querySelector("#block"), items2);

      const items3 = [
        {
          label: "Fixed here",
          callback: () => {
            alert("You clicked here");
          },
        },
        "-",
        {
          label: "Fixed there",
          callback: () => {
            alert("You clicked there");
          },
        },
      ];
      let fixedMenu = new PureContextMenu(document.querySelector("#fixed"), items3);

      console.log("menus loaded");
    </script>
  </head>

  <body>
    <div class="container">
      <h1>Demo</h1>

      <div style="width: 400px; height: 400px; padding: 2em; background: #ccc; overflow-y: scroll" id="block">
        <p>Click in here for context menu</p>
        <p style="display: block; margin-bottom: 400px">Scroll scroll scroll</p>
        <p>Scroll scroll scroll</p>
      </div>

      <div
        style="width: 400px; height: 400px; padding: 2em; background: #ddd; overflow-y: scroll; position: fixed; top: 50px; right: 50px"
        id="fixed"
      >
        <p>Click in here for context menu</p>
        <p style="display: block; margin-bottom: 400px">Scroll scroll scroll</p>
        <p>Scroll scroll scroll</p>
      </div>

      <div style="width: 200px; height: 200px; margin: 2em; padding: 2em; background: #ccc" id="target1">I'm target 1</div>
      <div style="width: 200px; height: 200px; margin: 2em; padding: 2em; background: #ccc" id="target2">I'm target 2</div>

      <p style="display: block; margin-bottom: 100vh">Scroll the page</p>

      <p>This is the end of the page</p>
    </div>
  </body>
</html>
